@page "/"
@using Microsoft.Extensions.Options
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager NavigationManager
@inject IOptionsSnapshot<RemoteAuthenticationOptions<ApiAuthorizationProviderOptions>> OptionsSnapshot
@inject NavigationManagement NavigationManagement

<PageTitle>Home</PageTitle>

<MudGrid>
  <MudItem xs="12">
    <MudCard Outlined="false" Class="px-8 py-4">
      <MudCardHeader>
        <CardHeaderContent>
          <MudText Typo="Typo.h6">Accelerate your development teams with Goldlight</MudText>
        </CardHeaderContent>
      </MudCardHeader>
      <MudCardContent>
        <MudText>Shorten development cycles and save costs by enabling early and parallel testing of applications. Break free from API dependencies and cut the reliance on slow or unavailable services.</MudText>
      </MudCardContent>
      <MudCardActions>
        @if (isLoggedOut)
        {
          <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="Login">Login</MudButton>
        }
      </MudCardActions>
    </MudCard>
  </MudItem>
</MudGrid>
@code {
  bool isLoggedOut;
  // protected override async Task OnInitializedAsync()
  // {
  //   var user = await AuthenticationStateProvider.GetAuthenticationStateAsync();
  //   isLoggedOut = string.IsNullOrWhiteSpace(user.User.Identity?.Name);
  // }

  private void Login()
  {
    NavigationManagement.Login();
  }

}
